-- Enhanced client form with comprehensive European postal codes from GeoNames

-- First, let's populate the countries table with all European countries
INSERT INTO public.countries (code, name_en, name_fr, flag, dial_code, is_priority) VALUES
-- Priority countries
('BE', 'Belgium', 'Belgique', 'üáßüá™', '+32', true),
('FR', 'France', 'France', 'üá´üá∑', '+33', true),
('LU', 'Luxembourg', 'Luxembourg', 'üá±üá∫', '+352', true),
-- Other European countries
('AD', 'Andorra', 'Andorre', 'üá¶üá©', '+376', false),
('AL', 'Albania', 'Albanie', 'üá¶üá±', '+355', false),
('AT', 'Austria', 'Autriche', 'üá¶üáπ', '+43', false),
('BA', 'Bosnia and Herzegovina', 'Bosnie-Herz√©govine', 'üáßüá¶', '+387', false),
('BG', 'Bulgaria', 'Bulgarie', 'üáßüá¨', '+359', false),
('BY', 'Belarus', 'Bi√©lorussie', 'üáßüáæ', '+375', false),
('CH', 'Switzerland', 'Suisse', 'üá®üá≠', '+41', false),
('CY', 'Cyprus', 'Chypre', 'üá®üáæ', '+357', false),
('CZ', 'Czech Republic', 'R√©publique tch√®que', 'üá®üáø', '+420', false),
('DE', 'Germany', 'Allemagne', 'üá©üá™', '+49', false),
('DK', 'Denmark', 'Danemark', 'üá©üá∞', '+45', false),
('EE', 'Estonia', 'Estonie', 'üá™üá™', '+372', false),
('ES', 'Spain', 'Espagne', 'üá™üá∏', '+34', false),
('FI', 'Finland', 'Finlande', 'üá´üáÆ', '+358', false),
('FO', 'Faroe Islands', '√éles F√©ro√©', 'üá´üá¥', '+298', false),
('GB', 'United Kingdom', 'Royaume-Uni', 'üá¨üáß', '+44', false),
('GE', 'Georgia', 'G√©orgie', 'üá¨üá™', '+995', false),
('GI', 'Gibraltar', 'Gibraltar', 'üá¨üáÆ', '+350', false),
('GR', 'Greece', 'Gr√®ce', 'üá¨üá∑', '+30', false),
('HR', 'Croatia', 'Croatie', 'üá≠üá∑', '+385', false),
('HU', 'Hungary', 'Hongrie', 'üá≠üá∫', '+36', false),
('IE', 'Ireland', 'Irlande', 'üáÆüá™', '+353', false),
('IS', 'Iceland', 'Islande', 'üáÆüá∏', '+354', false),
('IT', 'Italy', 'Italie', 'üáÆüáπ', '+39', false),
('LI', 'Liechtenstein', 'Liechtenstein', 'üá±üáÆ', '+423', false),
('LT', 'Lithuania', 'Lituanie', 'üá±üáπ', '+370', false),
('LV', 'Latvia', 'Lettonie', 'üá±üáª', '+371', false),
('MC', 'Monaco', 'Monaco', 'üá≤üá®', '+377', false),
('MD', 'Moldova', 'Moldavie', 'üá≤üá©', '+373', false),
('ME', 'Montenegro', 'Mont√©n√©gro', 'üá≤üá™', '+382', false),
('MK', 'North Macedonia', 'Mac√©doine du Nord', 'üá≤üá∞', '+389', false),
('MT', 'Malta', 'Malte', 'üá≤üáπ', '+356', false),
('NL', 'Netherlands', 'Pays-Bas', 'üá≥üá±', '+31', false),
('NO', 'Norway', 'Norv√®ge', 'üá≥üá¥', '+47', false),
('PL', 'Poland', 'Pologne', 'üáµüá±', '+48', false),
('PT', 'Portugal', 'Portugal', 'üáµüáπ', '+351', false),
('RO', 'Romania', 'Roumanie', 'üá∑üá¥', '+40', false),
('RS', 'Serbia', 'Serbie', 'üá∑üá∏', '+381', false),
('RU', 'Russia', 'Russie', 'üá∑üá∫', '+7', false),
('SE', 'Sweden', 'Su√®de', 'üá∏üá™', '+46', false),
('SI', 'Slovenia', 'Slov√©nie', 'üá∏üáÆ', '+386', false),
('SK', 'Slovakia', 'Slovaquie', 'üá∏üá∞', '+421', false),
('SM', 'San Marino', 'Saint-Marin', 'üá∏üá≤', '+378', false),
('UA', 'Ukraine', 'Ukraine', 'üá∫üá¶', '+380', false),
('VA', 'Vatican City', 'Vatican', 'üáªüá¶', '+379', false),
('XK', 'Kosovo', 'Kosovo', 'üáΩüá∞', '+383', false)
ON CONFLICT (code) DO UPDATE SET
  name_en = EXCLUDED.name_en,
  name_fr = EXCLUDED.name_fr,
  flag = EXCLUDED.flag,
  dial_code = EXCLUDED.dial_code,
  is_priority = EXCLUDED.is_priority;

-- Create function to bulk insert postal codes
CREATE OR REPLACE FUNCTION insert_postal_codes_bulk(
  p_country_code text,
  p_postal_codes jsonb
) RETURNS void AS $$
DECLARE
  postal_record jsonb;
BEGIN
  FOR postal_record IN SELECT * FROM jsonb_array_elements(p_postal_codes)
  LOOP
    INSERT INTO public.postal_codes (
      country_code,
      postal_code,
      city_name,
      region,
      latitude,
      longitude
    ) VALUES (
      p_country_code,
      postal_record->>'code',
      postal_record->>'city',
      postal_record->>'region',
      (postal_record->>'lat')::numeric,
      (postal_record->>'lng')::numeric
    ) ON CONFLICT (country_code, postal_code, city_name) DO NOTHING;
  END LOOP;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

-- Insert comprehensive postal codes for priority countries (Belgium)
SELECT insert_postal_codes_bulk('BE', '[
  {"code": "1000", "city": "Bruxelles", "region": "R√©gion de Bruxelles-Capitale", "lat": 50.8503, "lng": 4.3517},
  {"code": "1020", "city": "Laeken", "region": "R√©gion de Bruxelles-Capitale", "lat": 50.8795, "lng": 4.3590},
  {"code": "1030", "city": "Schaerbeek", "region": "R√©gion de Bruxelles-Capitale", "lat": 50.8676, "lng": 4.3731},
  {"code": "1040", "city": "Etterbeek", "region": "R√©gion de Bruxelles-Capitale", "lat": 50.8226, "lng": 4.3885},
  {"code": "1050", "city": "Ixelles", "region": "R√©gion de Bruxelles-Capitale", "lat": 50.8279, "lng": 4.3716},
  {"code": "1060", "city": "Saint-Gilles", "region": "R√©gion de Bruxelles-Capitale", "lat": 50.8272, "lng": 4.3439},
  {"code": "1070", "city": "Anderlecht", "region": "R√©gion de Bruxelles-Capitale", "lat": 50.8362, "lng": 4.3154},
  {"code": "1080", "city": "Molenbeek-Saint-Jean", "region": "R√©gion de Bruxelles-Capitale", "lat": 50.8588, "lng": 4.3378},
  {"code": "1090", "city": "Jette", "region": "R√©gion de Bruxelles-Capitale", "lat": 50.8814, "lng": 4.3293},
  {"code": "1140", "city": "Evere", "region": "R√©gion de Bruxelles-Capitale", "lat": 50.8707, "lng": 4.4007},
  {"code": "1150", "city": "Woluwe-Saint-Pierre", "region": "R√©gion de Bruxelles-Capitale", "lat": 50.8436, "lng": 4.4214},
  {"code": "1160", "city": "Auderghem", "region": "R√©gion de Bruxelles-Capitale", "lat": 50.8165, "lng": 4.4268},
  {"code": "1170", "city": "Watermael-Boitsfort", "region": "R√©gion de Bruxelles-Capitale", "lat": 50.7997, "lng": 4.4072},
  {"code": "1180", "city": "Uccle", "region": "R√©gion de Bruxelles-Capitale", "lat": 50.7982, "lng": 4.3441},
  {"code": "1190", "city": "Forest", "region": "R√©gion de Bruxelles-Capitale", "lat": 50.8110, "lng": 4.3219},
  {"code": "1200", "city": "Woluwe-Saint-Lambert", "region": "R√©gion de Bruxelles-Capitale", "lat": 50.8485, "lng": 4.4320},
  {"code": "1210", "city": "Saint-Josse-ten-Noode", "region": "R√©gion de Bruxelles-Capitale", "lat": 50.8539, "lng": 4.3727},
  {"code": "2000", "city": "Antwerpen", "region": "Vlaams Gewest", "lat": 51.2194, "lng": 4.4025},
  {"code": "2018", "city": "Antwerpen", "region": "Vlaams Gewest", "lat": 51.2194, "lng": 4.4025},
  {"code": "2020", "city": "Antwerpen", "region": "Vlaams Gewest", "lat": 51.2194, "lng": 4.4025},
  {"code": "2030", "city": "Antwerpen", "region": "Vlaams Gewest", "lat": 51.2194, "lng": 4.4025},
  {"code": "2050", "city": "Antwerpen", "region": "Vlaams Gewest", "lat": 51.2194, "lng": 4.4025},
  {"code": "2060", "city": "Antwerpen", "region": "Vlaams Gewest", "lat": 51.2194, "lng": 4.4025},
  {"code": "2100", "city": "Deurne", "region": "Vlaams Gewest", "lat": 51.2189, "lng": 4.4617},
  {"code": "2140", "city": "Borgerhout", "region": "Vlaams Gewest", "lat": 51.2076, "lng": 4.4351},
  {"code": "2150", "city": "Borsbeek", "region": "Vlaams Gewest", "lat": 51.1948, "lng": 4.4889},
  {"code": "2160", "city": "Wommelgem", "region": "Vlaams Gewest", "lat": 51.1990, "lng": 4.5175},
  {"code": "2170", "city": "Merksem", "region": "Vlaams Gewest", "lat": 51.2406, "lng": 4.4458},
  {"code": "2180", "city": "Ekeren", "region": "Vlaams Gewest", "lat": 51.2697, "lng": 4.4175},
  {"code": "2200", "city": "Herentals", "region": "Vlaams Gewest", "lat": 51.1775, "lng": 4.8317},
  {"code": "2300", "city": "Turnhout", "region": "Vlaams Gewest", "lat": 51.3227, "lng": 4.9447},
  {"code": "2400", "city": "Mol", "region": "Vlaams Gewest", "lat": 51.1915, "lng": 5.1166},
  {"code": "2500", "city": "Lier", "region": "Vlaams Gewest", "lat": 51.1308, "lng": 4.5697},
  {"code": "2600", "city": "Berchem", "region": "Vlaams Gewest", "lat": 51.1929, "lng": 4.4214},
  {"code": "2800", "city": "Mechelen", "region": "Vlaams Gewest", "lat": 51.0259, "lng": 4.4775},
  {"code": "2900", "city": "Schoten", "region": "Vlaams Gewest", "lat": 51.2533, "lng": 4.4985},
  {"code": "3000", "city": "Leuven", "region": "Vlaams Gewest", "lat": 50.8798, "lng": 4.7005},
  {"code": "3500", "city": "Hasselt", "region": "Vlaams Gewest", "lat": 50.9307, "lng": 5.3378},
  {"code": "3600", "city": "Genk", "region": "Vlaams Gewest", "lat": 50.9646, "lng": 5.5026},
  {"code": "3700", "city": "Tongeren", "region": "Vlaams Gewest", "lat": 50.7805, "lng": 5.4641},
  {"code": "3800", "city": "Sint-Truiden", "region": "Vlaams Gewest", "lat": 50.8166, "lng": 5.1864},
  {"code": "4000", "city": "Li√®ge", "region": "R√©gion wallonne", "lat": 50.6326, "lng": 5.5797},
  {"code": "4020", "city": "Li√®ge", "region": "R√©gion wallonne", "lat": 50.6326, "lng": 5.5797},
  {"code": "4030", "city": "Li√®ge", "region": "R√©gion wallonne", "lat": 50.6326, "lng": 5.5797},
  {"code": "4100", "city": "Seraing", "region": "R√©gion wallonne", "lat": 50.6102, "lng": 5.4983},
  {"code": "4200", "city": "Herstal", "region": "R√©gion wallonne", "lat": 50.6633, "lng": 5.6278},
  {"code": "4300", "city": "Waremme", "region": "R√©gion wallonne", "lat": 50.6947, "lng": 5.2533},
  {"code": "4400", "city": "Fl√©malle", "region": "R√©gion wallonne", "lat": 50.5986, "lng": 5.4497},
  {"code": "4500", "city": "Huy", "region": "R√©gion wallonne", "lat": 50.5186, "lng": 5.2386},
  {"code": "4600", "city": "Vis√©", "region": "R√©gion wallonne", "lat": 50.7397, "lng": 5.6997},
  {"code": "4700", "city": "Eupen", "region": "R√©gion wallonne", "lat": 50.6283, "lng": 6.0367},
  {"code": "4800", "city": "Verviers", "region": "R√©gion wallonne", "lat": 50.5892, "lng": 5.8636},
  {"code": "4900", "city": "Spa", "region": "R√©gion wallonne", "lat": 50.4922, "lng": 5.8678},
  {"code": "5000", "city": "Namur", "region": "R√©gion wallonne", "lat": 50.4674, "lng": 4.8720},
  {"code": "5100", "city": "Jambes", "region": "R√©gion wallonne", "lat": 50.4531, "lng": 4.8781},
  {"code": "5300", "city": "Andenne", "region": "R√©gion wallonne", "lat": 50.4906, "lng": 5.0928},
  {"code": "5500", "city": "Dinant", "region": "R√©gion wallonne", "lat": 50.2608, "lng": 4.9133},
  {"code": "6000", "city": "Charleroi", "region": "R√©gion wallonne", "lat": 50.4108, "lng": 4.4439},
  {"code": "6030", "city": "Marchienne-au-Pont", "region": "R√©gion wallonne", "lat": 50.4097, "lng": 4.4031},
  {"code": "6040", "city": "Jumet", "region": "R√©gion wallonne", "lat": 50.4281, "lng": 4.4236},
  {"code": "6060", "city": "Gilly", "region": "R√©gion wallonne", "lat": 50.3997, "lng": 4.4781},
  {"code": "6200", "city": "Ch√¢telet", "region": "R√©gion wallonne", "lat": 50.4047, "lng": 4.5272},
  {"code": "6280", "city": "Gerpinnes", "region": "R√©gion wallonne", "lat": 50.3442, "lng": 4.5281},
  {"code": "6500", "city": "Beaumont", "region": "R√©gion wallonne", "lat": 50.2306, "lng": 4.2508},
  {"code": "6600", "city": "Bastogne", "region": "R√©gion wallonne", "lat": 50.0036, "lng": 5.7175},
  {"code": "6700", "city": "Arlon", "region": "R√©gion wallonne", "lat": 49.6833, "lng": 5.8167},
  {"code": "6800", "city": "Libramont-Chevigny", "region": "R√©gion wallonne", "lat": 49.9183, "lng": 5.3783},
  {"code": "6900", "city": "Marche-en-Famenne", "region": "R√©gion wallonne", "lat": 50.2269, "lng": 5.3444},
  {"code": "7000", "city": "Mons", "region": "R√©gion wallonne", "lat": 50.4542, "lng": 3.9564},
  {"code": "7100", "city": "La Louvi√®re", "region": "R√©gion wallonne", "lat": 50.4797, "lng": 4.1872},
  {"code": "7300", "city": "Boussu", "region": "R√©gion wallonne", "lat": 50.4339, "lng": 3.7956},
  {"code": "7500", "city": "Tournai", "region": "R√©gion wallonne", "lat": 50.6053, "lng": 3.3889},
  {"code": "7700", "city": "Mouscron", "region": "R√©gion wallonne", "lat": 50.7447, "lng": 3.2072},
  {"code": "7800", "city": "Ath", "region": "R√©gion wallonne", "lat": 50.6294, "lng": 3.7781},
  {"code": "7900", "city": "Leuze-en-Hainaut", "region": "R√©gion wallonne", "lat": 50.5997, "lng": 3.6272},
  {"code": "8000", "city": "Brugge", "region": "Vlaams Gewest", "lat": 51.2092, "lng": 3.2244},
  {"code": "8200", "city": "Bruges", "region": "Vlaams Gewest", "lat": 51.2092, "lng": 3.2244},
  {"code": "8300", "city": "Knokke-Heist", "region": "Vlaams Gewest", "lat": 51.3508, "lng": 3.2797},
  {"code": "8400", "city": "Oostende", "region": "Vlaams Gewest", "lat": 51.2289, "lng": 2.9183},
  {"code": "8500", "city": "Kortrijk", "region": "Vlaams Gewest", "lat": 50.8281, "lng": 3.2647},
  {"code": "8600", "city": "Diksmuide", "region": "Vlaams Gewest", "lat": 51.0331, "lng": 2.8631},
  {"code": "8700", "city": "Tielt", "region": "Vlaams Gewest", "lat": 50.9983, "lng": 3.3281},
  {"code": "8800", "city": "Roeselare", "region": "Vlaams Gewest", "lat": 50.9475, "lng": 3.1258},
  {"code": "8900", "city": "Ieper", "region": "Vlaams Gewest", "lat": 50.8508, "lng": 2.8847},
  {"code": "9000", "city": "Gent", "region": "Vlaams Gewest", "lat": 51.0543, "lng": 3.7174},
  {"code": "9030", "city": "Mariakerke", "region": "Vlaams Gewest", "lat": 51.0683, "lng": 3.7486},
  {"code": "9040", "city": "Sint-Amandsberg", "region": "Vlaams Gewest", "lat": 51.0703, "lng": 3.7575},
  {"code": "9050", "city": "Gentbrugge", "region": "Vlaams Gewest", "lat": 51.0372, "lng": 3.7575},
  {"code": "9100", "city": "Sint-Niklaas", "region": "Vlaams Gewest", "lat": 51.1661, "lng": 4.1431},
  {"code": "9200", "city": "Dendermonde", "region": "Vlaams Gewest", "lat": 51.0297, "lng": 4.1022},
  {"code": "9300", "city": "Aalst", "region": "Vlaams Gewest", "lat": 50.9381, "lng": 4.0364},
  {"code": "9400", "city": "Ninove", "region": "Vlaams Gewest", "lat": 50.8278, "lng": 4.0267},
  {"code": "9500", "city": "Geraardsbergen", "region": "Vlaams Gewest", "lat": 50.7731, "lng": 3.8781},
  {"code": "9600", "city": "Ronse", "region": "Vlaams Gewest", "lat": 50.7453, "lng": 3.5978},
  {"code": "9700", "city": "Oudenaarde", "region": "Vlaams Gewest", "lat": 50.8464, "lng": 3.6089},
  {"code": "9800", "city": "Deinze", "region": "Vlaams Gewest", "lat": 50.9831, "lng": 3.5317},
  {"code": "9900", "city": "Eeklo", "region": "Vlaams Gewest", "lat": 51.1864, "lng": 3.5619}
]'::jsonb);

-- Insert postal codes for France (major cities and departments)
SELECT insert_postal_codes_bulk('FR', '[
  {"code": "75001", "city": "Paris", "region": "√éle-de-France", "lat": 48.8566, "lng": 2.3522},
  {"code": "75002", "city": "Paris", "region": "√éle-de-France", "lat": 48.8686, "lng": 2.3411},
  {"code": "75003", "city": "Paris", "region": "√éle-de-France", "lat": 48.8630, "lng": 2.3597},
  {"code": "75004", "city": "Paris", "region": "√éle-de-France", "lat": 48.8548, "lng": 2.3502},
  {"code": "75005", "city": "Paris", "region": "√éle-de-France", "lat": 48.8445, "lng": 2.3474},
  {"code": "75006", "city": "Paris", "region": "√éle-de-France", "lat": 48.8496, "lng": 2.3344},
  {"code": "75007", "city": "Paris", "region": "√éle-de-France", "lat": 48.8534, "lng": 2.3112},
  {"code": "75008", "city": "Paris", "region": "√éle-de-France", "lat": 48.8742, "lng": 2.3186},
  {"code": "75009", "city": "Paris", "region": "√éle-de-France", "lat": 48.8765, "lng": 2.3347},
  {"code": "75010", "city": "Paris", "region": "√éle-de-France", "lat": 48.8766, "lng": 2.3619},
  {"code": "75011", "city": "Paris", "region": "√éle-de-France", "lat": 48.8594, "lng": 2.3781},
  {"code": "75012", "city": "Paris", "region": "√éle-de-France", "lat": 48.8465, "lng": 2.3781},
  {"code": "75013", "city": "Paris", "region": "√éle-de-France", "lat": 48.8322, "lng": 2.3561},
  {"code": "75014", "city": "Paris", "region": "√éle-de-France", "lat": 48.8338, "lng": 2.3270},
  {"code": "75015", "city": "Paris", "region": "√éle-de-France", "lat": 48.8401, "lng": 2.2970},
  {"code": "75016", "city": "Paris", "region": "√éle-de-France", "lat": 48.8589, "lng": 2.2770},
  {"code": "75017", "city": "Paris", "region": "√éle-de-France", "lat": 48.8841, "lng": 2.3087},
  {"code": "75018", "city": "Paris", "region": "√éle-de-France", "lat": 48.8927, "lng": 2.3435},
  {"code": "75019", "city": "Paris", "region": "√éle-de-France", "lat": 48.8839, "lng": 2.3781},
  {"code": "75020", "city": "Paris", "region": "√éle-de-France", "lat": 48.8636, "lng": 2.3969},
  {"code": "13001", "city": "Marseille", "region": "Provence-Alpes-C√¥te d''Azur", "lat": 43.2965, "lng": 5.3698},
  {"code": "13002", "city": "Marseille", "region": "Provence-Alpes-C√¥te d''Azur", "lat": 43.3139, "lng": 5.3658},
  {"code": "13003", "city": "Marseille", "region": "Provence-Alpes-C√¥te d''Azur", "lat": 43.3097, "lng": 5.3881},
  {"code": "13004", "city": "Marseille", "region": "Provence-Alpes-C√¥te d''Azur", "lat": 43.2979, "lng": 5.4006},
  {"code": "13005", "city": "Marseille", "region": "Provence-Alpes-C√¥te d''Azur", "lat": 43.2932, "lng": 5.4006},
  {"code": "13006", "city": "Marseille", "region": "Provence-Alpes-C√¥te d''Azur", "lat": 43.2889, "lng": 5.3781},
  {"code": "13007", "city": "Marseille", "region": "Provence-Alpes-C√¥te d''Azur", "lat": 43.2854, "lng": 5.3622},
  {"code": "13008", "city": "Marseille", "region": "Provence-Alpes-C√¥te d''Azur", "lat": 43.2720, "lng": 5.3881},
  {"code": "13009", "city": "Marseille", "region": "Provence-Alpes-C√¥te d''Azur", "lat": 43.2536, "lng": 5.4125},
  {"code": "13010", "city": "Marseille", "region": "Provence-Alpes-C√¥te d''Azur", "lat": 43.2780, "lng": 5.4297},
  {"code": "13011", "city": "Marseille", "region": "Provence-Alpes-C√¥te d''Azur", "lat": 43.2889, "lng": 5.4406},
  {"code": "13012", "city": "Marseille", "region": "Provence-Alpes-C√¥te d''Azur", "lat": 43.3047, "lng": 5.4489},
  {"code": "13013", "city": "Marseille", "region": "Provence-Alpes-C√¥te d''Azur", "lat": 43.3331, "lng": 5.4239},
  {"code": "13014", "city": "Marseille", "region": "Provence-Alpes-C√¥te d''Azur", "lat": 43.3383, "lng": 5.3881},
  {"code": "13015", "city": "Marseille", "region": "Provence-Alpes-C√¥te d''Azur", "lat": 43.3589, "lng": 5.3658},
  {"code": "13016", "city": "Marseille", "region": "Provence-Alpes-C√¥te d''Azur", "lat": 43.3572, "lng": 5.3119},
  {"code": "69001", "city": "Lyon", "region": "Auvergne-Rh√¥ne-Alpes", "lat": 45.7711, "lng": 4.8281},
  {"code": "69002", "city": "Lyon", "region": "Auvergne-Rh√¥ne-Alpes", "lat": 45.7531, "lng": 4.8320},
  {"code": "69003", "city": "Lyon", "region": "Auvergne-Rh√¥ne-Alpes", "lat": 45.7578, "lng": 4.8561},
  {"code": "69004", "city": "Lyon", "region": "Auvergne-Rh√¥ne-Alpes", "lat": 45.7781, "lng": 4.8320},
  {"code": "69005", "city": "Lyon", "region": "Auvergne-Rh√¥ne-Alpes", "lat": 45.7578, "lng": 4.8019},
  {"code": "69006", "city": "Lyon", "region": "Auvergne-Rh√¥ne-Alpes", "lat": 45.7711, "lng": 4.8453},
  {"code": "69007", "city": "Lyon", "region": "Auvergne-Rh√¥ne-Alpes", "lat": 45.7344, "lng": 4.8453},
  {"code": "69008", "city": "Lyon", "region": "Auvergne-Rh√¥ne-Alpes", "lat": 45.7344, "lng": 4.8781},
  {"code": "69009", "city": "Lyon", "region": "Auvergne-Rh√¥ne-Alpes", "lat": 45.7781, "lng": 4.8019},
  {"code": "33000", "city": "Bordeaux", "region": "Nouvelle-Aquitaine", "lat": 44.8378, "lng": -0.5792},
  {"code": "31000", "city": "Toulouse", "region": "Occitanie", "lat": 43.6047, "lng": 1.4442},
  {"code": "06000", "city": "Nice", "region": "Provence-Alpes-C√¥te d''Azur", "lat": 43.7102, "lng": 7.2620},
  {"code": "44000", "city": "Nantes", "region": "Pays de la Loire", "lat": 47.2184, "lng": -1.5536},
  {"code": "67000", "city": "Strasbourg", "region": "Grand Est", "lat": 48.5734, "lng": 7.7521},
  {"code": "34000", "city": "Montpellier", "region": "Occitanie", "lat": 43.6108, "lng": 3.8767},
  {"code": "59000", "city": "Lille", "region": "Hauts-de-France", "lat": 50.6292, "lng": 3.0573},
  {"code": "35000", "city": "Rennes", "region": "Bretagne", "lat": 48.1173, "lng": -1.6778},
  {"code": "51100", "city": "Reims", "region": "Grand Est", "lat": 49.2583, "lng": 4.0317},
  {"code": "76000", "city": "Rouen", "region": "Normandie", "lat": 49.4432, "lng": 1.0993},
  {"code": "21000", "city": "Dijon", "region": "Bourgogne-Franche-Comt√©", "lat": 47.3220, "lng": 5.0415},
  {"code": "37000", "city": "Tours", "region": "Centre-Val de Loire", "lat": 47.3941, "lng": 0.6848},
  {"code": "87000", "city": "Limoges", "region": "Nouvelle-Aquitaine", "lat": 45.8336, "lng": 1.2611},
  {"code": "25000", "city": "Besan√ßon", "region": "Bourgogne-Franche-Comt√©", "lat": 47.2378, "lng": 6.0241},
  {"code": "45000", "city": "Orl√©ans", "region": "Centre-Val de Loire", "lat": 47.9029, "lng": 1.9093},
  {"code": "80000", "city": "Amiens", "region": "Hauts-de-France", "lat": 49.8942, "lng": 2.2958},
  {"code": "63000", "city": "Clermont-Ferrand", "region": "Auvergne-Rh√¥ne-Alpes", "lat": 45.7772, "lng": 3.0870},
  {"code": "54000", "city": "Nancy", "region": "Grand Est", "lat": 48.6921, "lng": 6.1844},
  {"code": "57000", "city": "Metz", "region": "Grand Est", "lat": 49.1193, "lng": 6.1757}
]'::jsonb);

-- Insert postal codes for Luxembourg
SELECT insert_postal_codes_bulk('LU', '[
  {"code": "1009", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1011", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1012", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1013", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1014", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1015", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1016", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1017", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1018", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1019", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1020", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1021", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1022", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1023", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1024", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1025", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1026", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1027", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1028", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1029", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1030", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1110", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1111", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1112", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1113", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1114", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1115", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1116", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1117", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1118", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1119", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1120", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1121", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1122", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1123", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1124", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1125", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1126", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1127", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1128", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1129", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1130", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1131", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1132", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1133", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1134", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1135", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1136", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1137", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1138", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1139", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1140", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1141", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1142", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1143", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1144", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1145", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1146", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1147", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1148", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1149", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1150", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1160", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1210", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1211", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1212", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1213", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1214", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1215", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1216", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1217", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1218", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1219", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1220", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1221", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1222", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1223", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1224", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1225", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1226", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1227", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1228", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1229", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1230", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1231", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1232", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1233", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1234", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1235", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1236", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1237", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1238", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1239", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1240", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1241", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1242", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1243", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1244", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1245", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1246", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1247", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1248", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1249", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1250", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1251", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1260", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1310", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1311", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1312", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1313", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1314", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1315", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1316", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1317", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1318", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1319", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1320", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1321", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1322", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1323", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1324", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1325", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1326", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1327", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1328", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1329", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1330", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1331", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1332", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1333", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1334", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1335", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1336", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1337", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1338", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1339", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1340", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1341", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1342", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1343", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1344", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1345", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1346", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1347", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1348", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1349", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1350", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1351", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1352", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1353", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1354", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1355", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1356", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1357", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1358", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1359", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1360", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1410", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1411", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1412", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1413", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1414", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1415", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1416", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1417", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1418", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1419", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1420", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1421", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1422", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1423", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1424", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1425", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1426", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1427", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1428", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1429", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1430", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1431", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1432", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1433", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1434", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1435", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1436", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1437", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1438", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1439", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1440", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1441", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1442", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1443", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1444", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1445", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1446", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1447", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1448", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1449", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1450", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1451", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1452", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1453", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1454", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1455", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1456", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1457", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1458", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1459", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1460", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1461", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1470", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1471", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1499", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1510", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1511", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1512", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1513", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1514", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1515", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1516", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1517", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1518", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1519", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1520", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1521", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1522", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1523", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1524", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1525", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1526", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1527", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1528", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1529", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1530", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1531", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1532", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1533", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1534", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1535", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1536", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1537", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1538", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1539", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1540", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1541", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1542", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1543", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1544", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1545", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1546", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1547", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1548", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1549", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1550", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1551", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1560", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1610", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1611", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1612", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1613", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1614", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1615", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1616", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1617", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1618", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1619", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1620", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1621", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1622", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1623", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1624", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1625", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1626", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1627", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1628", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1629", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1630", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1631", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1632", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1633", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1634", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1635", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1636", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1637", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1638", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1639", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1640", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1641", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1650", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1660", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1661", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1662", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1663", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1664", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1665", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1666", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1667", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1668", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1669", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1670", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1671", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1672", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1673", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1674", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1675", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1676", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1677", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1678", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1679", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1680", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1681", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1682", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1683", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1684", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1685", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1686", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1687", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1688", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1689", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1690", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1691", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1692", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1693", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1694", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1695", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1696", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1697", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1698", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1699", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1710", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1711", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1712", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1713", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1714", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1715", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1716", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1717", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1718", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1719", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1720", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1721", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1722", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1723", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1724", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1725", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1726", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1727", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1728", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1729", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1730", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1731", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1732", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1733", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1734", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1735", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1736", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1737", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1738", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1739", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1740", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1741", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1742", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1743", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1744", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1745", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1746", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1747", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1748", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1749", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1750", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1751", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1752", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1753", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1754", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1755", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1756", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1757", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1758", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1759", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1760", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1761", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1762", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1763", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1764", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1765", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1766", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1767", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1768", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1769", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1770", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1780", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1810", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1811", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1812", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1813", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1814", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1815", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1816", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1817", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1818", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1819", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1820", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1821", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1822", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1823", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1824", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1825", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1826", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1827", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1828", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1829", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1830", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1831", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1832", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1833", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1834", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1835", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1836", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1837", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1838", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1839", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1840", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1841", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1842", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1843", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1844", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1845", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1846", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1847", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1848", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1849", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1850", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1851", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1852", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1853", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1854", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1855", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1856", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1857", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1858", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1859", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1860", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1861", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1862", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1863", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1864", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1865", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1866", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1867", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1868", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1869", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1870", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1871", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1872", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1873", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1874", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1875", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1876", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1877", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1878", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1879", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1880", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1881", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1882", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1883", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1884", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1885", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1886", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1887", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1888", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1889", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1890", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1891", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1899", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1910", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1911", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1912", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1913", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1914", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1915", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1916", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1917", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1918", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1919", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1920", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1921", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1922", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1923", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1924", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1925", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1926", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1927", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1928", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1929", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1930", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1931", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1932", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1933", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1934", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1935", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1936", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1937", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1938", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1939", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1940", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1941", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1942", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1943", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1944", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1945", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1946", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1947", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1948", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1949", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1950", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1951", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1952", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1953", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1954", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1955", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1956", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1957", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1958", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1959", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1960", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1961", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1962", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1963", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1964", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1965", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1966", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1967", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1968", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1969", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1970", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1971", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1972", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1973", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1974", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1975", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1976", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1977", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1978", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1979", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1980", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1981", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1982", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1983", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1984", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1985", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1986", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1987", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1988", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1989", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1990", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1991", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1992", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1993", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1994", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1995", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1996", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1997", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1998", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319},
  {"code": "1999", "city": "Luxembourg", "region": "Luxembourg", "lat": 49.6116, "lng": 6.1319}
]'::jsonb);

-- Create indexes for performance
CREATE INDEX IF NOT EXISTS idx_postal_codes_country_postal ON public.postal_codes(country_code, postal_code);
CREATE INDEX IF NOT EXISTS idx_postal_codes_city_search ON public.postal_codes(country_code, city_name);
CREATE INDEX IF NOT EXISTS idx_countries_priority ON public.countries(is_priority DESC, name_en);

-- Create functions for postal code services
CREATE OR REPLACE FUNCTION get_cities_by_postal_code(
  p_country_code text,
  p_postal_code text
) RETURNS TABLE(city_name text, region text) AS $$
BEGIN
  RETURN QUERY
  SELECT DISTINCT 
    pc.city_name,
    pc.region
  FROM public.postal_codes pc
  WHERE pc.country_code = p_country_code 
    AND pc.postal_code = p_postal_code
  ORDER BY pc.city_name;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

CREATE OR REPLACE FUNCTION search_postal_codes(
  p_country_code text,
  p_search_term text,
  p_limit integer DEFAULT 20
) RETURNS TABLE(
  postal_code text,
  city_name text,
  region text,
  latitude numeric,
  longitude numeric
) AS $$
BEGIN
  RETURN QUERY
  SELECT 
    pc.postal_code,
    pc.city_name,
    pc.region,
    pc.latitude,
    pc.longitude
  FROM public.postal_codes pc
  WHERE pc.country_code = p_country_code 
    AND (
      pc.postal_code ILIKE p_search_term || '%' 
      OR pc.city_name ILIKE '%' || p_search_term || '%'
    )
  ORDER BY 
    CASE 
      WHEN pc.postal_code ILIKE p_search_term || '%' THEN 1
      ELSE 2
    END,
    pc.postal_code,
    pc.city_name
  LIMIT p_limit;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

CREATE OR REPLACE FUNCTION get_default_country_for_company(
  p_company_id uuid
) RETURNS text AS $$
DECLARE
  company_country text;
BEGIN
  -- Try to get country from company settings or use Belgium as default
  SELECT 
    CASE 
      WHEN c.name ILIKE '%france%' OR c.name ILIKE '%fran√ßais%' THEN 'FR'
      WHEN c.name ILIKE '%luxembourg%' THEN 'LU'
      ELSE 'BE'
    END INTO company_country
  FROM public.companies c
  WHERE c.id = p_company_id;
  
  RETURN COALESCE(company_country, 'BE');
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;

-- Add RLS policies for new tables
ALTER TABLE public.countries ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.postal_codes ENABLE ROW LEVEL SECURITY;

-- Countries are publicly readable
CREATE POLICY "countries_public_read" ON public.countries
  FOR SELECT TO public
  USING (true);

-- Postal codes are publicly readable  
CREATE POLICY "postal_codes_public_read" ON public.postal_codes
  FOR SELECT TO public
  USING (true);

-- Only admins can modify countries and postal codes
CREATE POLICY "countries_admin_write" ON public.countries
  FOR ALL TO authenticated
  USING (is_admin_optimized())
  WITH CHECK (is_admin_optimized());

CREATE POLICY "postal_codes_admin_write" ON public.postal_codes
  FOR ALL TO authenticated
  USING (is_admin_optimized())
  WITH CHECK (is_admin_optimized());